extends ../layouts/main

block content
  //- Header
  .mb-12
    .inline-flex.items-center.gap-2.px-3.py-1.bg-indigo-50.rounded-full.text-indigo-700.text-sm.font-medium.mb-4
      svg(class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24")
        path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z")
      span v1.0.0
    h1(class="text-4xl font-bold text-gray-900 mb-4")
      | Documentação da API 
      span.gradient-text AtalaHub
    p(class="text-xl text-gray-600 max-w-3xl")
      | Guia completo para integração com a API do AtalaHub - Sistema de Gestão de Condomínios. 
      | Aqui você encontrará documentação de endpoints, fluxos de negócio e exemplos práticos.

  //- Quick Links
  div(class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12")
    a(href="/wiki/assemblies" class="group p-6 bg-white rounded-xl border border-gray-200 hover:border-indigo-300 hover:shadow-lg transition-all")
      div(class="w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-indigo-200 transition-colors")
        svg(class="w-6 h-6 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z")
      h3(class="font-semibold text-gray-900 mb-2") Assembleias
      p(class="text-sm text-gray-500") Criação, gerenciamento e fluxo completo de assembleias virtuais.
    
    a(href="/wiki/assembly-minutes" class="group p-6 bg-white rounded-xl border border-gray-200 hover:border-green-300 hover:shadow-lg transition-all")
      div(class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-green-200 transition-colors")
        svg(class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z")
      h3(class="font-semibold text-gray-900 mb-2") Atas de Assembleia
      p(class="text-sm text-gray-500") Upload de atas em PDF, Word ou texto com conversão automática.
    
    a(href="/wiki/votings" class="group p-6 bg-white rounded-xl border border-gray-200 hover:border-amber-300 hover:shadow-lg transition-all")
      div(class="w-12 h-12 bg-amber-100 rounded-lg flex items-center justify-center mb-4 group-hover:bg-amber-200 transition-colors")
        svg(class="w-6 h-6 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4")
      h3(class="font-semibold text-gray-900 mb-2") Votações
      p(class="text-sm text-gray-500") Sistema de votação para decisões do condomínio.

  //- Architecture Overview
  section.mb-12
    h2(class="text-2xl font-bold text-gray-900 mb-6") Arquitetura
    .bg-white.rounded-xl.border.border-gray-200.p-8
      div(class="grid grid-cols-1 md:grid-cols-2 gap-8")
        div
          h3(class="font-semibold text-gray-900 mb-4") Stack Tecnológico
          ul.space-y-3
            li.flex.items-center.gap-3
              .w-8.h-8.bg-red-100.rounded-lg.flex.items-center.justify-center
                span.text-sm.font-bold.text-red-600 N
              span.text-gray-700 NestJS (Framework)
            li.flex.items-center.gap-3
              .w-8.h-8.bg-green-100.rounded-lg.flex.items-center.justify-center
                span.text-sm.font-bold.text-green-600 M
              span.text-gray-700 MongoDB (Escrita)
            li.flex.items-center.gap-3
              .w-8.h-8.bg-blue-100.rounded-lg.flex.items-center.justify-center
                span.text-sm.font-bold.text-blue-600 P
              span.text-gray-700 PostgreSQL (Leitura)
            li.flex.items-center.gap-3
              .w-8.h-8.bg-orange-100.rounded-lg.flex.items-center.justify-center
                span.text-sm.font-bold.text-orange-600 S
              span.text-gray-700 MinIO (Storage S3)
        
        div
          h3(class="font-semibold text-gray-900 mb-4") Padrões Utilizados
          ul.space-y-3
            li.flex.items-start.gap-3
              svg(class="w-5 h-5 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7")
              div
                span.font-medium.text-gray-900 CQRS
                p.text-sm.text-gray-500 Separação de comandos (Mongo) e consultas (Postgres)
            li.flex.items-start.gap-3
              svg(class="w-5 h-5 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7")
              div
                span.font-medium.text-gray-900 Repository Pattern
                p.text-sm.text-gray-500 Abstração de acesso a dados
            li.flex.items-start.gap-3
              svg(class="w-5 h-5 text-green-500 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7")
              div
                span.font-medium.text-gray-900 JWT Authentication
                p.text-sm.text-gray-500 Autenticação baseada em tokens

  //- Authentication
  section.mb-12
    h2(class="text-2xl font-bold text-gray-900 mb-6") Autenticação
    .bg-white.rounded-xl.border.border-gray-200.p-6
      .alert.alert-info.mb-6
        svg(class="w-5 h-5 text-blue-500 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z")
        div
          p.font-medium.text-blue-900 Todas as rotas requerem autenticação
          p.text-sm.text-blue-700 Inclua o header Authorization: Bearer {token} em todas as requisições
      
      .code-block
        .code-header
          span Headers
          span HTTP
        .code-content
          pre.
            Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
            Content-Type: application/json

  //- Roles
  section.mb-12
    h2(class="text-2xl font-bold text-gray-900 mb-6") Níveis de Acesso (Roles)
    .bg-white.rounded-xl.border.border-gray-200.overflow-hidden
      table.w-full
        thead.bg-gray-50
          tr
            th.px-6.py-3.text-left.text-xs.font-semibold.text-gray-500.uppercase Role
            th.px-6.py-3.text-left.text-xs.font-semibold.text-gray-500.uppercase Descrição
            th.px-6.py-3.text-left.text-xs.font-semibold.text-gray-500.uppercase Permissões
        tbody.divide-y.divide-gray-200
          tr
            td.px-6.py-4
              span.role-badge.role-super super
            td.px-6.py-4.text-sm.text-gray-700 Super Administrador
            td.px-6.py-4.text-sm.text-gray-500 Acesso total ao sistema
          tr
            td.px-6.py-4
              span.role-badge.role-admin admin
            td.px-6.py-4.text-sm.text-gray-700 Administrador
            td.px-6.py-4.text-sm.text-gray-500 Gestão de condomínios e usuários
          tr
            td.px-6.py-4
              span.role-badge.role-manager manager
            td.px-6.py-4.text-sm.text-gray-700 Síndico
            td.px-6.py-4.text-sm.text-gray-500 Gestão do condomínio específico
          tr
            td.px-6.py-4
              span.role-badge.role-resident resident
            td.px-6.py-4.text-sm.text-gray-700 Morador
            td.px-6.py-4.text-sm.text-gray-500 Acesso às funcionalidades do morador

  //- API Base URL
  section.mb-12
    h2(class="text-2xl font-bold text-gray-900 mb-6") Base URL
    .code-block
      .code-header
        span URL Base
        span Produção
      .code-content
        pre https://api.atalahub.com.br
    .mt-4.code-block
      .code-header
        span URL Base
        span Desenvolvimento
      .code-content
        pre http://localhost:3000

  //- Swagger
  section
    h2(class="text-2xl font-bold text-gray-900 mb-6") Documentação Interativa
    .bg-gradient-to-br.from-indigo-500.to-purple-600.rounded-xl.p-8.text-white
      h3.text-xl.font-semibold.mb-2 Swagger UI
      p.mb-6.text-indigo-100 Acesse a documentação interativa para testar os endpoints diretamente no navegador.
      a(href="/docs" target="_blank" class="inline-flex items-center gap-2 bg-white text-indigo-600 px-6 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition-colors")
        span Acessar Swagger
        svg(class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14")

