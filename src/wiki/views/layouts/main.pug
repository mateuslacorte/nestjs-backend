doctype html
html(lang="pt-BR")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title= title
    script(src="https://cdn.tailwindcss.com")
    link(href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet")
    style.
      :root {
        --primary: #6366f1;
        --primary-dark: #4f46e5;
        --secondary: #10b981;
        --accent: #f59e0b;
        --dark: #1e293b;
        --darker: #0f172a;
        --light: #f8fafc;
      }
      
      * {
        font-family: 'Inter', sans-serif;
      }
      
      code, pre {
        font-family: 'JetBrains Mono', monospace;
      }
      
      .sidebar-link {
        transition: all 0.2s ease;
      }
      
      .sidebar-link:hover {
        background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, transparent 100%);
        border-left-color: #6366f1;
      }
      
      .sidebar-link.active {
        background: linear-gradient(90deg, rgba(99, 102, 241, 0.15) 0%, transparent 100%);
        border-left-color: #6366f1;
        color: #6366f1;
      }
      
      .code-block {
        background: #1e293b;
        border-radius: 8px;
        overflow: hidden;
      }
      
      .code-header {
        background: #334155;
        padding: 8px 16px;
        font-size: 12px;
        color: #94a3b8;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      
      .code-content {
        padding: 16px;
        overflow-x: auto;
        color: #e2e8f0;
        font-size: 13px;
        line-height: 1.6;
      }
      
      .method-badge {
        display: inline-flex;
        align-items: center;
        padding: 4px 10px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .method-get { background: #dcfce7; color: #166534; }
      .method-post { background: #dbeafe; color: #1e40af; }
      .method-put { background: #fef3c7; color: #92400e; }
      .method-patch { background: #fef3c7; color: #92400e; }
      .method-delete { background: #fee2e2; color: #991b1b; }
      
      .endpoint-card {
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        transition: all 0.2s ease;
      }
      
      .endpoint-card:hover {
        border-color: #6366f1;
        box-shadow: 0 4px 20px rgba(99, 102, 241, 0.1);
      }
      
      .flow-step {
        position: relative;
        padding-left: 40px;
      }
      
      .flow-step::before {
        content: attr(data-step);
        position: absolute;
        left: 0;
        top: 0;
        width: 28px;
        height: 28px;
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: 600;
      }
      
      .flow-step::after {
        content: '';
        position: absolute;
        left: 13px;
        top: 32px;
        width: 2px;
        height: calc(100% - 8px);
        background: #e2e8f0;
      }
      
      .flow-step:last-child::after {
        display: none;
      }
      
      .alert {
        border-radius: 8px;
        padding: 16px;
        display: flex;
        gap: 12px;
      }
      
      .alert-info {
        background: #eff6ff;
        border-left: 4px solid #3b82f6;
      }
      
      .alert-warning {
        background: #fffbeb;
        border-left: 4px solid #f59e0b;
      }
      
      .alert-success {
        background: #f0fdf4;
        border-left: 4px solid #22c55e;
      }
      
      .alert-error {
        background: #fef2f2;
        border-left: 4px solid #ef4444;
      }
      
      .role-badge {
        display: inline-flex;
        align-items: center;
        padding: 2px 8px;
        border-radius: 9999px;
        font-size: 11px;
        font-weight: 500;
      }
      
      .role-super { background: #fae8ff; color: #86198f; }
      .role-admin { background: #fee2e2; color: #991b1b; }
      .role-manager { background: #dbeafe; color: #1e40af; }
      .role-resident { background: #dcfce7; color: #166534; }
      
      .toc-link {
        color: #64748b;
        font-size: 14px;
        transition: color 0.2s;
      }
      
      .toc-link:hover {
        color: #6366f1;
      }
      
      .gradient-text {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

  body(class="bg-gray-50 min-h-screen")
    .flex.min-h-screen
      //- Sidebar
      aside(class="w-72 bg-white border-r border-gray-200 fixed h-full overflow-y-auto")
        .p-6.border-b.border-gray-100
          a(href="/wiki" class="flex items-center gap-3")
            .w-10.h-10.bg-gradient-to-br.from-indigo-500.to-purple-600.rounded-xl.flex.items-center.justify-content-center
              svg(class="w-6 h-6 text-white mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4")
            div
              h1(class="font-bold text-lg text-gray-900") AtalaHub
              p(class="text-xs text-gray-500") Documentação v1.0
        
        nav(class="p-4")
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Início
            a(href="/wiki" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'home' ? 'active' : ''}`)
              span Visão Geral
            a(href="/wiki/architecture" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'architecture' ? 'active' : ''}`)
              span Arquitetura
            a(href="/wiki/backend-guide" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'backend-guide' ? 'active' : ''}`)
              span Guia Backend
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Autenticação
            a(href="/wiki/auth" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'auth' ? 'active' : ''}`)
              span Auth & JWT
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Gestão
            a(href="/wiki/condominiums" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'condominiums' ? 'active' : ''}`)
              span Condomínios
            a(href="/wiki/buildings-units" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'buildings-units' ? 'active' : ''}`)
              span Blocos e Unidades
            a(href="/wiki/facilities-gates" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'facilities-gates' ? 'active' : ''}`)
              span Áreas Comuns
            a(href="/wiki/residents" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'residents' ? 'active' : ''}`)
              span Moradores
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Assembleias
            a(href="/wiki/assemblies" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'assemblies' ? 'active' : ''}`)
              span Assembleias
            a(href="/wiki/assembly-minutes" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'assembly-minutes' ? 'active' : ''}`)
              span Atas
            a(href="/wiki/votings" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'votings' ? 'active' : ''}`)
              span Votações
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Serviços
            a(href="/wiki/services" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'services' ? 'active' : ''}`)
              span Serviços
            a(href="/wiki/providers" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'providers' ? 'active' : ''}`)
              span Prestadores
            a(href="/wiki/disputes" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'disputes' ? 'active' : ''}`)
              span Disputas
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Financeiro
            a(href="/wiki/invoices" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'invoices' ? 'active' : ''}`)
              span Faturas
            a(href="/wiki/finance" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'finance' ? 'active' : ''}`)
              span Despesas e Receitas
          
          .mb-6
            p(class="text-xs font-semibold text-gray-400 uppercase tracking-wider px-3 mb-2") Sistema
            a(href="/wiki/notifications" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'notifications' ? 'active' : ''}`)
              span Notificações
            a(href="/wiki/websockets" class=`sidebar-link block px-3 py-2 text-sm text-gray-700 border-l-2 border-transparent rounded-r ${currentPage === 'websockets' ? 'active' : ''}`)
              span WebSockets
          
          .mt-8.px-3
            a(href="/docs" target="_blank" class="flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-800")
              svg(class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24")
                path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14")
              span Swagger UI
      
      //- Main Content
      main(class="ml-72 flex-1")
        .max-w-5xl.mx-auto.px-8.py-12
          block content
